# N2G-为什么90%的人不会计算子网掩码？大厂网络工程师的CIDR与子网掩码完全解析

## 📝 摘要

**90% 的网络小白看到 `/24` 就懵了**，不知道 CIDR 和子网掩码怎么计算，而**大厂网络工程师却能秒算任何 CIDR 表示法**！新手死记硬背 → 专家理解原理；新手只会填地址 → 专家秒算网络。从 IP 小白到网络规划专家，只需方法！

## 📚 目录

- [0. 开场：一个真实的网络规划故事](#0-开场一个真实的网络规划故事)
- [1. 问题描述：为什么90%的人不会计算子网掩码？](#1-问题描述为什么90的人不会计算子网掩码)
- [2. 问题考察点：你真的理解 CIDR 和子网掩码吗？](#2-问题考察点你真的理解-cidr-和子网掩码吗)
- [3. CIDR 基础概念](#3-cidr-基础概念)
- [4. 子网掩码详解](#4-子网掩码详解)
- [5. CIDR 与子网掩码的对应关系](#5-cidr-与子网掩码的对应关系)
- [6. 子网掩码计算方法详解](#6-子网掩码计算方法详解)
- [7. 实战解析：一步步计算子网掩码](#7-实战解析一步步计算子网掩码)
- [8. 快速转换技巧](#8-快速转换技巧)
- [9. 实战练习：动手巩固理解](#9-实战练习动手巩固理解)
- [10. 总结与鼓励](#10-总结与鼓励)
- [11. 参考资料](#11-参考资料)

## 0. 开场：一个真实的网络规划故事

上周，我们公司的运维工程师小李，接到了一个新任务：为公司的三个部门规划 IP 地址。

他拿到的基础网络地址是 `192.168.1.0/24`，需要为：
- **部门 A**：60 台电脑
- **部门 B**：20 台电脑
- **部门 C**：16 台电脑

小李看着这个任务，一脸懵："`/24` 是什么意思？子网掩码应该填什么？60 台电脑要用什么子网掩码？"

他查了一下午的资料，试了各种计算器，但始终搞不清楚原理，不知道为什么要这样计算。最后，他找到了我，一脸无奈地问："为什么计算子网掩码这么难？"

我笑了笑，告诉他："**不是计算难，而是你没有掌握正确的计算方法。**"

今天，我就用这篇文章，把 CIDR（无类别域间路由）和子网掩码的计算方法，给你讲得明明白白！💪

## 1. 问题描述：为什么90%的人不会计算子网掩码？

### 1.1 新手常见错误场景

**错误做法**：

- ❌ 看到 `/24`、`/26` 等 CIDR 表示法就懵了，不知道是什么意思
- ❌ 不理解 CIDR 和子网掩码的对应关系
- ❌ 不知道如何根据主机数量计算合适的子网掩码
- ❌ 只会用计算器，但不知道原理，遇到问题无法排查
- ❌ 死记硬背常用的子网掩码，但遇到特殊情况就不知道怎么办

**结果**：网络规划错误，IP 地址浪费，故障排查困难，效率低下。😭

### 1.2 大厂网络工程师的做法

**正确做法**：

- ✅ 秒算任何 CIDR 表示法对应的子网掩码
- ✅ 根据主机数量快速确定合适的子网掩码
- ✅ 理解 CIDR 和子网掩码的对应关系，灵活运用
- ✅ 掌握快速转换技巧，不用计算器也能快速计算
- ✅ 遇到问题能快速定位，高效解决

**结果**：网络规划合理，IP 地址利用率高，故障秒杀，效率提升 10 倍！🚀

## 2. 问题考察点：你真的理解 CIDR 和子网掩码吗？

在深入学习之前，我们先来看看，掌握 CIDR 和子网掩码的计算，到底考察了你哪些能力：

1. **CIDR 表示法理解能力**：能否理解 `/24`、`/26` 等 CIDR 表示法的含义？
2. **二进制转换能力**：能否将 CIDR 前缀长度转换为子网掩码？
3. **主机数量计算能力**：能否根据主机数量确定合适的子网掩码？
4. **网络规划能力**：能否根据实际需求合理规划子网？
5. **快速计算能力**：能否掌握快速转换技巧，提高计算效率？

如果你能完全掌握这些内容，那么恭喜你，你已经具备了网络工程师的基础规划能力！🎉

## 3. CIDR 基础概念

### 3.1 什么是 CIDR？

📖 [RFC 4632 - Classless Inter-Domain Routing (CIDR)](https://www.rfc-editor.org/rfc/rfc4632.html) 📚 [子网掩码完全指南：从入门到精通 - 博客园](https://www.cnblogs.com/kingchn/p/19119297) 💡 [掌握IP地址配置与子网划分技巧 - 51CTO](https://edu.51cto.com/video/67293.html)

**CIDR（Classless Inter-Domain Routing，无类别域间路由）** 是一种灵活的 IP 地址分配方法，它打破了传统 A、B、C 类地址的限制，允许使用任意长度的网络前缀。

**生活化比喻**：

CIDR 就像一把可调节的尺子：
- **传统分类网络** = 只有固定尺寸的尺子（A 类、B 类、C 类）
- **CIDR** = 可以随意调节长度的尺子，想用多长就用多长

**为什么需要 CIDR？**

在 CIDR 出现之前，IP 地址被严格分为 A、B、C 三类：
- **A 类**：`255.0.0.0`（`/8`），可容纳 1677 万台主机
- **B 类**：`255.255.0.0`（`/16`），可容纳 6.5 万台主机
- **C 类**：`255.255.255.0`（`/24`），可容纳 254 台主机

如果你的网络需要 500 台主机，用 C 类不够，用 B 类又太浪费！这就是 CIDR 要解决的问题——**灵活分配，避免浪费**。🚀

### 3.2 CIDR 表示法

CIDR 使用 **斜杠后跟数字** 的表示法，表示网络前缀的长度（即网络位的数量）。

**格式**：`IP地址/前缀长度`

**示例**：

- `192.168.1.0/24`：表示前 24 位为网络位，后 8 位为主机位
- `10.0.0.0/8`：表示前 8 位为网络位，后 24 位为主机位
- `172.16.0.0/16`：表示前 16 位为网络位，后 16 位为主机位

**关键理解**：

CIDR 表示法中的数字（如 `/24`）表示**网络位的数量**，而不是主机位的数量！

## 4. 子网掩码详解

### 4.1 什么是子网掩码？

📚 [子网掩码完全指南：从入门到精通 - 博客园](https://www.cnblogs.com/kingchn/p/19119297) 💡 [CIDR技术在IP地址规划中的应用 - 51CTO](https://edu.51cto.com/video/60399.html)

**子网掩码（Subnet Mask）** 是一个 32 位的二进制数，用于区分 IP 地址中的网络部分和主机部分。

**核心规则**：

- **子网掩码中 1 的位置 = 网络位**
- **子网掩码中 0 的位置 = 主机位**

**示例**：

```
IP 地址：    192.168.1.100
二进制：     11000000.10101000.00000001.01100100

子网掩码：   255.255.255.0
二进制：     11111111.11111111.11111111.00000000
             └─────────网络位─────────┘└──主机位──┘
```

**分析结果**：

- **网络位**：前 24 位（`192.168.1`），用于标识网络
- **主机位**：后 8 位（`100`），用于标识设备

### 4.2 子网掩码的表示形式

子网掩码有三种表示形式：

1. **点分十进制**：`255.255.255.0`
2. **二进制**：`11111111.11111111.11111111.00000000`
3. **CIDR 表示法**：`/24`（表示前 24 位为网络位）

这三种表示形式是**等价的**，只是表达方式不同！

## 5. CIDR 与子网掩码的对应关系

### 5.1 常用 CIDR 与子网掩码对照表

理解 CIDR 和子网掩码的对应关系，是快速计算的基础！

| CIDR | 子网掩码（十进制） | 子网掩码（二进制） | 网络位 | 主机位 | 可用主机数 |
|------|------------------|------------------|--------|--------|-----------|
| /8 | 255.0.0.0 | 11111111.00000000.00000000.00000000 | 8 | 24 | 16,777,214 |
| /16 | 255.255.0.0 | 11111111.11111111.00000000.00000000 | 16 | 16 | 65,534 |
| /24 | 255.255.255.0 | 11111111.11111111.11111111.00000000 | 24 | 8 | 254 |
| /25 | 255.255.255.128 | 11111111.11111111.11111111.10000000 | 25 | 7 | 126 |
| /26 | 255.255.255.192 | 11111111.11111111.11111111.11000000 | 26 | 6 | 62 |
| /27 | 255.255.255.224 | 11111111.11111111.11111111.11100000 | 27 | 5 | 30 |
| /28 | 255.255.255.240 | 11111111.11111111.11111111.11110000 | 28 | 4 | 14 |
| /29 | 255.255.255.248 | 11111111.11111111.11111111.11111000 | 29 | 3 | 6 |
| /30 | 255.255.255.252 | 11111111.11111111.11111111.11111100 | 30 | 2 | 2 |

**关键公式**：

- **可用主机数 = 2^主机位数 - 2**
- 减去的 2 个地址分别是：网络地址（主机位全为 0）和广播地址（主机位全为 1）

### 5.2 快速记忆技巧

**技巧 1：记住关键数字**

- `/24` → `255.255.255.0`（C 类默认掩码）
- `/25` → `255.255.255.128`（128 = 2^7）
- `/26` → `255.255.255.192`（192 = 128 + 64）
- `/27` → `255.255.255.224`（224 = 128 + 64 + 32）
- `/28` → `255.255.255.240`（240 = 128 + 64 + 32 + 16）

**技巧 2：理解二进制规律**

从 `/24` 开始，每增加 1 位网络位，子网掩码的最后一个字节就增加 2 的幂次：
- `/24` → 0（0 = 0）
- `/25` → 128（128 = 2^7）
- `/26` → 192（192 = 128 + 64 = 2^7 + 2^6）
- `/27` → 224（224 = 128 + 64 + 32 = 2^7 + 2^6 + 2^5）

## 6. 子网掩码计算方法详解

### 6.1 根据 CIDR 计算子网掩码

**方法 1：从 CIDR 前缀长度直接计算**

**步骤**：

1. **确定网络位数**：CIDR 中的数字就是网络位数（如 `/24` 表示 24 位网络位）
2. **构建子网掩码二进制**：前 N 位为 1，后（32-N）位为 0
3. **转换为十进制**：每 8 位转换为一个十进制数

**示例：计算 `/26` 的子网掩码**

**步骤 1**：确定网络位数为 26 位

**步骤 2**：构建二进制子网掩码
```
前 26 位为 1，后 6 位为 0
11111111.11111111.11111111.11000000
```

**步骤 3**：转换为十进制
```
11111111 = 255
11111111 = 255
11111111 = 255
11000000 = 192

结果：255.255.255.192
```

### 6.2 根据主机数量计算子网掩码

**方法 2：根据主机数量确定 CIDR 前缀长度**

**步骤**：

1. **确定所需主机数**：考虑未来扩展，建议预留 20-30% 的余量
2. **计算主机位数**：使用公式 `2^主机位数 - 2 ≥ 所需主机数`
3. **计算网络位数**：网络位数 = 32 - 主机位数
4. **确定 CIDR 和子网掩码**：根据网络位数确定 CIDR 和对应的子网掩码

**示例：需要 60 台主机，计算合适的子网掩码**

**步骤 1**：确定所需主机数为 60 台（考虑扩展，可能需要 80 台）

**步骤 2**：计算主机位数
```
2^6 - 2 = 62 ≥ 60  ✅
2^7 - 2 = 126 ≥ 60  ✅（更安全）

选择 7 位主机位（更安全，可容纳 126 台主机）
```

**步骤 3**：计算网络位数
```
网络位数 = 32 - 7 = 25
```

**步骤 4**：确定 CIDR 和子网掩码
```
CIDR：/25
子网掩码：255.255.255.128
```

### 6.3 根据子网数量计算子网掩码

**方法 3：根据子网数量确定 CIDR 前缀长度**

**步骤**：

1. **确定所需子网数**：考虑未来扩展
2. **计算子网位数**：使用公式 `2^子网位数 ≥ 所需子网数`
3. **确定新的网络位数**：新网络位数 = 原网络位数 + 子网位数
4. **确定 CIDR 和子网掩码**：根据新的网络位数确定 CIDR 和对应的子网掩码

**示例：将 `/24` 网络划分为 4 个子网**

**步骤 1**：确定所需子网数为 4 个

**步骤 2**：计算子网位数
```
2^2 = 4 ≥ 4  ✅

需要 2 位子网位
```

**步骤 3**：确定新的网络位数
```
原网络位数 = 24
新网络位数 = 24 + 2 = 26
```

**步骤 4**：确定 CIDR 和子网掩码
```
CIDR：/26
子网掩码：255.255.255.192
```

## 7. 实战解析：一步步计算子网掩码

### 7.1 案例 1：计算 `/26` 的子网掩码

**题目**：计算 `192.168.1.0/26` 的子网掩码。

**解答步骤**：

**步骤 1：理解 CIDR 表示法**

`/26` 表示前 26 位为网络位，后 6 位为主机位。

**步骤 2：构建子网掩码二进制**

```
前 26 位为 1，后 6 位为 0
11111111.11111111.11111111.11000000
```

**步骤 3：转换为十进制**

```
11111111 = 255
11111111 = 255
11111111 = 255
11000000 = 192

结果：255.255.255.192
```

**答案**：`255.255.255.192`

### 7.2 案例 2：根据主机数量计算子网掩码

**题目**：需要为 60 台主机分配 IP 地址，计算合适的子网掩码。

**解答步骤**：

**步骤 1：确定所需主机数**

考虑扩展，按 80 台主机计算。

**步骤 2：计算主机位数**

```
2^6 - 2 = 62 < 80  ❌
2^7 - 2 = 126 ≥ 80  ✅

选择 7 位主机位
```

**步骤 3：计算网络位数**

```
网络位数 = 32 - 7 = 25
```

**步骤 4：确定 CIDR 和子网掩码**

```
CIDR：/25
子网掩码：255.255.255.128
```

**答案**：`255.255.255.128`（`/25`）

### 7.3 案例 3：将网络划分为多个子网

**题目**：将 `192.168.1.0/24` 网络划分为 4 个子网，计算每个子网的 CIDR 和子网掩码。

**解答步骤**：

**步骤 1：确定所需子网数**

需要 4 个子网。

**步骤 2：计算子网位数**

```
2^2 = 4 ≥ 4  ✅

需要 2 位子网位
```

**步骤 3：确定新的网络位数**

```
原网络位数 = 24
新网络位数 = 24 + 2 = 26
```

**步骤 4：确定 CIDR 和子网掩码**

```
CIDR：/26
子网掩码：255.255.255.192
```

**步骤 5：计算每个子网的地址范围**

| 子网 | 网络地址 | 主机范围 | 广播地址 | 可用主机数 |
|------|---------|---------|---------|-----------|
| 子网 1 | 192.168.1.0/26 | 192.168.1.1 - 192.168.1.62 | 192.168.1.63 | 62 |
| 子网 2 | 192.168.1.64/26 | 192.168.1.65 - 192.168.1.126 | 192.168.1.127 | 62 |
| 子网 3 | 192.168.1.128/26 | 192.168.1.129 - 192.168.1.190 | 192.168.1.191 | 62 |
| 子网 4 | 192.168.1.192/26 | 192.168.1.193 - 192.168.1.254 | 192.168.1.255 | 62 |

**答案**：每个子网使用 `255.255.255.192`（`/26`）子网掩码

### 7.4 案例 4：解决开场故事中的问题

**回顾开场故事**：

- 基础网络：`192.168.1.0/24`
- 部门 A：60 台电脑
- 部门 B：20 台电脑
- 部门 C：16 台电脑

**解决方案**：

**部门 A（60 台电脑）**：

```
需要主机数：60 台（考虑扩展，按 80 台计算）
主机位数：7 位（2^7 - 2 = 126 ≥ 80）
网络位数：32 - 7 = 25
CIDR：/25
子网掩码：255.255.255.128
子网地址：192.168.1.0/25
主机范围：192.168.1.1 - 192.168.1.126
```

**部门 B（20 台电脑）**：

```
需要主机数：20 台（考虑扩展，按 30 台计算）
主机位数：5 位（2^5 - 2 = 30 ≥ 30）
网络位数：32 - 5 = 27
CIDR：/27
子网掩码：255.255.255.224
子网地址：192.168.1.128/27
主机范围：192.168.1.129 - 192.168.1.158
```

**部门 C（16 台电脑）**：

```
需要主机数：16 台（考虑扩展，按 20 台计算）
主机位数：5 位（2^5 - 2 = 30 ≥ 20）
网络位数：32 - 5 = 27
CIDR：/27
子网掩码：255.255.255.224
子网地址：192.168.1.160/27
主机范围：192.168.1.161 - 192.168.1.190
```

**最终规划结果**：

| 部门 | CIDR | 子网掩码 | 网络地址 | 主机范围 | 可用主机数 |
|------|------|---------|---------|---------|-----------|
| 部门 A | /25 | 255.255.255.128 | 192.168.1.0/25 | 192.168.1.1 - 192.168.1.126 | 126 |
| 部门 B | /27 | 255.255.255.224 | 192.168.1.128/27 | 192.168.1.129 - 192.168.1.158 | 30 |
| 部门 C | /27 | 255.255.255.224 | 192.168.1.160/27 | 192.168.1.161 - 192.168.1.190 | 30 |

这样，小李就能完美解决网络规划问题了！🎉

## 8. 快速转换技巧

### 8.1 CIDR 到子网掩码快速转换

**技巧：记住关键数字序列**

对于最后一个字节（最常见的场景），记住以下序列：

```
/24 → 0    (0 = 0)
/25 → 128  (128 = 2^7)
/26 → 192  (192 = 128 + 64)
/27 → 224  (224 = 128 + 64 + 32)
/28 → 240  (240 = 128 + 64 + 32 + 16)
/29 → 248  (248 = 128 + 64 + 32 + 16 + 8)
/30 → 252  (252 = 128 + 64 + 32 + 16 + 8 + 4)
```

**规律**：每增加 1 位网络位，就加上下一个 2 的幂次（从 128 开始递减）。

### 8.2 主机数量快速判断

**技巧：记住常用主机数对应的 CIDR**

| 所需主机数 | 推荐 CIDR | 子网掩码 | 实际可用主机数 |
|-----------|----------|---------|--------------|
| 2-6 台 | /29 | 255.255.255.248 | 6 |
| 7-14 台 | /28 | 255.255.255.240 | 14 |
| 15-30 台 | /27 | 255.255.255.224 | 30 |
| 31-62 台 | /26 | 255.255.255.192 | 62 |
| 63-126 台 | /25 | 255.255.255.128 | 126 |
| 127-254 台 | /24 | 255.255.255.0 | 254 |

**快速判断方法**：

1. 找到第一个大于等于所需主机数的 2 的幂次（如 60 台主机，找 64）
2. 减去 2（网络地址和广播地址），得到可用主机数（64 - 2 = 62）
3. 根据可用主机数确定主机位数（62 需要 6 位主机位）
4. 计算网络位数（32 - 6 = 26）
5. 确定 CIDR 和子网掩码（/26，255.255.255.192）

### 8.3 二进制快速转换技巧

**技巧：记住常用二进制值**

| 二进制 | 十进制 | 规律 |
|--------|--------|------|
| 10000000 | 128 | 2^7 |
| 11000000 | 192 | 128 + 64 |
| 11100000 | 224 | 128 + 64 + 32 |
| 11110000 | 240 | 128 + 64 + 32 + 16 |
| 11111000 | 248 | 128 + 64 + 32 + 16 + 8 |
| 11111100 | 252 | 128 + 64 + 32 + 16 + 8 + 4 |

**快速计算方法**：

从最高位（128）开始，每增加一位，就加上下一个 2 的幂次。

## 9. 实战练习：动手巩固理解

### 9.1 练习 1：计算 CIDR 对应的子网掩码

**题目**：计算以下 CIDR 对应的子网掩码：

1. `/25`
2. `/27`
3. `/28`

**解答**：

1. `/25` → `255.255.255.128`
2. `/27` → `255.255.255.224`
3. `/28` → `255.255.255.240`

### 9.2 练习 2：根据主机数量计算子网掩码

**题目**：需要为以下数量的主机分配 IP 地址，计算合适的子网掩码：

1. 30 台主机
2. 50 台主机
3. 100 台主机

**解答**：

1. **30 台主机**：
   ```
   2^5 - 2 = 30 ≥ 30  ✅
   主机位数：5
   网络位数：32 - 5 = 27
   CIDR：/27
   子网掩码：255.255.255.224
   ```

2. **50 台主机**（考虑扩展，按 60 台计算）：
   ```
   2^6 - 2 = 62 ≥ 60  ✅
   主机位数：6
   网络位数：32 - 6 = 26
   CIDR：/26
   子网掩码：255.255.255.192
   ```

3. **100 台主机**（考虑扩展，按 130 台计算）：
   ```
   2^7 - 2 = 126 < 130  ❌
   2^8 - 2 = 254 ≥ 130  ✅
   主机位数：8
   网络位数：32 - 8 = 24
   CIDR：/24
   子网掩码：255.255.255.0
   ```

### 9.3 练习 3：划分子网

**题目**：将 `172.16.0.0/16` 网络划分为 8 个子网，计算每个子网的 CIDR 和子网掩码。

**解答**：

**步骤 1**：确定所需子网数为 8 个

**步骤 2**：计算子网位数
```
2^3 = 8 ≥ 8  ✅

需要 3 位子网位
```

**步骤 3**：确定新的网络位数
```
原网络位数 = 16
新网络位数 = 16 + 3 = 19
```

**步骤 4**：确定 CIDR 和子网掩码
```
CIDR：/19
子网掩码：255.255.224.0
```

**步骤 5**：计算每个子网的地址范围

| 子网 | 网络地址 | 主机范围 | 可用主机数 |
|------|---------|---------|-----------|
| 子网 1 | 172.16.0.0/19 | 172.16.0.1 - 172.16.31.254 | 8,190 |
| 子网 2 | 172.16.32.0/19 | 172.16.32.1 - 172.16.63.254 | 8,190 |
| 子网 3 | 172.16.64.0/19 | 172.16.64.1 - 172.16.95.254 | 8,190 |
| 子网 4 | 172.16.96.0/19 | 172.16.96.1 - 172.16.127.254 | 8,190 |
| 子网 5 | 172.16.128.0/19 | 172.16.128.1 - 172.16.159.254 | 8,190 |
| 子网 6 | 172.16.160.0/19 | 172.16.160.1 - 172.16.191.254 | 8,190 |
| 子网 7 | 172.16.192.0/19 | 172.16.192.1 - 172.16.223.254 | 8,190 |
| 子网 8 | 172.16.224.0/19 | 172.16.224.1 - 172.16.255.254 | 8,190 |

### 9.4 练习 4：综合应用

**题目**：某公司获得网络地址 `10.0.0.0/8`，需要为以下部门分配 IP 地址：

- **研发部**：500 台电脑
- **销售部**：200 台电脑
- **行政部**：50 台电脑
- **财务部**：30 台电脑

请为每个部门规划合适的子网。

**解答**：

**研发部（500 台电脑）**：

```
需要主机数：500 台（考虑扩展，按 600 台计算）
2^10 - 2 = 1022 ≥ 600  ✅
主机位数：10
网络位数：32 - 10 = 22
CIDR：/22
子网掩码：255.255.252.0
子网地址：10.0.0.0/22
主机范围：10.0.0.1 - 10.0.3.254
```

**销售部（200 台电脑）**：

```
需要主机数：200 台（考虑扩展，按 250 台计算）
2^8 - 2 = 254 ≥ 250  ✅
主机位数：8
网络位数：32 - 8 = 24
CIDR：/24
子网掩码：255.255.255.0
子网地址：10.0.4.0/24
主机范围：10.0.4.1 - 10.0.4.254
```

**行政部（50 台电脑）**：

```
需要主机数：50 台（考虑扩展，按 60 台计算）
2^6 - 2 = 62 ≥ 60  ✅
主机位数：6
网络位数：32 - 6 = 26
CIDR：/26
子网掩码：255.255.255.192
子网地址：10.0.5.0/26
主机范围：10.0.5.1 - 10.0.5.62
```

**财务部（30 台电脑）**：

```
需要主机数：30 台（考虑扩展，按 30 台计算）
2^5 - 2 = 30 ≥ 30  ✅
主机位数：5
网络位数：32 - 5 = 27
CIDR：/27
子网掩码：255.255.255.224
子网地址：10.0.5.64/27
主机范围：10.0.5.65 - 10.0.5.94
```

**最终规划结果**：

| 部门 | CIDR | 子网掩码 | 网络地址 | 主机范围 | 可用主机数 |
|------|------|---------|---------|---------|-----------|
| 研发部 | /22 | 255.255.252.0 | 10.0.0.0/22 | 10.0.0.1 - 10.0.3.254 | 1,022 |
| 销售部 | /24 | 255.255.255.0 | 10.0.4.0/24 | 10.0.4.1 - 10.0.4.254 | 254 |
| 行政部 | /26 | 255.255.255.192 | 10.0.5.0/26 | 10.0.5.1 - 10.0.5.62 | 62 |
| 财务部 | /27 | 255.255.255.224 | 10.0.5.64/27 | 10.0.5.65 - 10.0.5.94 | 30 |

## 10. 总结与鼓励

### 核心要点回顾

1. **CIDR（无类别域间路由）** 是一种灵活的 IP 地址分配方法，打破了传统 A、B、C 类地址的限制
2. **子网掩码** 用于区分 IP 地址中的网络部分和主机部分：1 的位置 = 网络位，0 的位置 = 主机位
3. **CIDR 表示法**：`IP地址/前缀长度`，如 `/24` 表示前 24 位为网络位
4. **根据 CIDR 计算子网掩码**：前 N 位为 1，后（32-N）位为 0，然后转换为十进制
5. **根据主机数量计算子网掩码**：使用公式 `2^主机位数 - 2 ≥ 所需主机数`，确定主机位数，然后计算网络位数
6. **根据子网数量计算子网掩码**：使用公式 `2^子网位数 ≥ 所需子网数`，确定子网位数，然后计算新的网络位数
7. **可用主机数公式**：`2^主机位数 - 2`（减去网络地址和广播地址）

### 结语：网络规划的核心技能

🎉 **恭喜你！** 你已经掌握了 CIDR 和子网掩码的计算方法！

**从 IP 小白到网络规划专家**，你已经迈出了关键一步！理解 CIDR 和子网掩码的计算，是网络规划、路由配置、故障排查的基础。继续深入学习 VLSM（可变长子网掩码）和子网划分，你将能够设计出高效的网络架构！

记住：**理论 + 实践 = 精通**。多动手练习，多思考原理，掌握快速转换技巧，你一定能成为网络高手！💪

## 11. 参考资料

### 官方文档

- 📖 [RFC 4632 - Classless Inter-Domain Routing (CIDR)](https://www.rfc-editor.org/rfc/rfc4632.html)：CIDR 官方标准文档

### 教程资源

- 📚 [子网掩码完全指南：从入门到精通 - 博客园](https://www.cnblogs.com/kingchn/p/19119297)：子网掩码基础知识教程
- 💡 [掌握IP地址配置与子网划分技巧 - 51CTO](https://edu.51cto.com/video/67293.html)：IP 地址配置和子网划分视频教程
- 💡 [CIDR技术在IP地址规划中的应用 - 51CTO](https://edu.51cto.com/video/60399.html)：CIDR 技术在 IP 地址规划中的应用视频教程

### 在线工具

- 🔗 [IP查询工具 - 子网掩码计算器](https://ipw.cn/tools/subnet/)：在线子网掩码计算工具

### 推荐书籍

- 📖 谢希仁《计算机网络》（第 8 版）：国内经典教材，内容全面系统
- 📖 《TCP/IP 详解 卷一：协议》：深入理解 TCP/IP 协议

---
**作者**：郑恩赐  
**机构**：厦门工学院人工智能创作坊  
**日期**：2025 年 11 月 05 日

